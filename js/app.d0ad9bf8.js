(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],d=0,f=[];d<o.length;d++)i=o[d],a[i]&&f.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},s=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0cee":function(e,t,r){"use strict";var n=r("f4e5"),a=r.n(n);a.a},"26e0":function(e,t,r){e.exports=r.p+"img/CITY-LOGO.bcb226c6.png"},"41ec":function(e,t,r){},4636:function(e,t,r){"use strict";var n=r("41ec"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),a=r("31bd"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("router-view")},i=[],o={},c=o,l=r("2877"),u=Object(l["a"])(c,s,i,!1,null,null,null),d=u.exports,f=r("8c4f"),p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e._m(0),r("div",{staticClass:"container"},[r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-three-quarters"},[r("p",{staticClass:"control has-icon has-icon-right"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterQuery,expression:"filterQuery"}],staticClass:"input is-large",attrs:{type:"text",placeholder:"Find a Layer"},domProps:{value:e.filterQuery},on:{input:function(t){t.target.composing||(e.filterQuery=t.target.value)}}}),e._m(1)]),e.selectedLayers.length>5?r("p",{staticClass:"help is-danger"},[e._v("Add upto 5 layers")]):e._e()])]),r("div",{staticClass:"columns"},[r("div",{staticClass:"column is-three-quarters"},[r("table",{staticClass:"table is-bordered"},[r("tfoot",e._l(e.displayedLayers,function(e){return r("app-layer",{key:e.id,attrs:{layerInfo:e}})}),1)])]),r("div",[r("router-link",{staticClass:"button is-large is-info",attrs:{to:{name:"map",query:{mapTitle:"Give Your Map a Title",zoom:12,ids:e.layerIds.join(","),center:"-76.615,39.289"}},tag:"button",disabled:!e.selectedLayers.length||e.selectedLayers.length>5,exact:""}},[e._v("Create Map")])],1)])])])},y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"nav hero is-default has-shadow"},[n("div",{staticClass:"container"},[n("div",{staticClass:"nav-left"},[n("div",{staticClass:"nav-item"},[n("img",{attrs:{src:r("26e0"),alt:"Vue"}}),n("h1",{staticClass:"title is-3"},[n("strong",[e._v("Create Map")])])])])])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("span",{staticClass:"icon is-medium"},[r("i",{staticClass:"fa fa-search"})])}],m=(r("ac6a"),r("cebc")),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("tr",[r("th",[e._v(e._s(e.layerInfo.title))]),e.layerInfo.selected?r("td",[r("button",{staticClass:"button is-danger",on:{click:function(t){return e.deSelectLayer(e.layerInfo.id)}}},[e._v("Remove")])]):r("td",[r("button",{staticClass:"button is-primary",on:{click:function(t){return e.selectLayer(e.layerInfo.id)}}},[e._v("Add ")])])])},h=[],g={props:["layerInfo"],methods:{selectLayer:function(e){return this.$store.commit("SELECT_LAYER",e)},deSelectLayer:function(e){return this.$store.commit("DESELECT_LAYER",e)}}},L=g,b=(r("0cee"),Object(l["a"])(L,v,h,!1,null,"987ab216",null)),w=b.exports,C=r("2f62"),_={data:function(){return{filterQuery:""}},components:{"app-layer":w},computed:Object(m["a"])({},Object(C["b"])({allLayers:"getAllLayers",selectedLayers:"getSelectedLayers"}),{displayedLayers:function(){var e=this.allLayers,t=e.filter(this.filterLayer);return t},layerIds:function(){var e=[];return this.selectedLayers.forEach(function(t){return e.push(t.id)}),e}}),created:function(){this.$store.dispatch("loadLayers")},methods:{filterLayer:function(e){var t=e.tags.join(" ").toLowerCase(),r=e.title.toLowerCase(),n=t+r,a=this.filterQuery.toLowerCase();return n.indexOf(a)>-1}}},E=_,O=(r("4636"),Object(l["a"])(E,p,y,!1,null,"1c828718",null)),j=O.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("nav",{staticClass:"nav hero is-default has-shadow"},[n("div",{staticClass:"container"},[n("div",{staticClass:"nav-left"},[n("router-link",{staticClass:"nav-item",attrs:{to:"/"}},[n("img",{attrs:{src:r("26e0"),alt:"Vue"}})]),n("input",{staticClass:"title is-3",domProps:{value:e.routerQuery.mapTitle},on:{input:function(t){return e.updateTitle(t.target.value)}}})],1)])]),n("div",{staticClass:"balt-theme",attrs:{id:"viewDiv"}})])},T=[],S=r("afaa"),I=(r("6b54"),r("59ad")),A=r.n(I),Q=(r("28a5"),r("7514"),r("bc3a")),q=r.n(Q),$={groupID:"1478688468f14058863b246e1d7c6be0",numberOfItems:50,sortField:"title",sortOrder:"asc",getUrl:function(){return"https://www.arcgis.com/sharing/search?q=group%3A%22"+this.groupID+"%22&f=json&num="+this.numberOfItems+"&sortField="+this.sortField+"&sortOrder="+this.sortOrder},tileLayerURL:"https://www.arcgis.com/sharing/rest/content/items/86d5ed4b6dc741de9dad5f0fbe09ae95/resources/styles/root.json"};n["a"].use(C["a"]);var R=new C["a"].Store({state:{allLayers:[],selectedLayers:[]},getters:{getAllLayers:function(e){return e.allLayers},getSelectedLayers:function(e){return e.selectedLayers},getRouterQuery:function(e){return e.route.query}},actions:{loadLayers:function(e){var t=e.commit;q.a.get($.getUrl()).then(function(e){var r=e.data.results;t("ADD_LAYERS",r)}).catch(function(e){return console.log(e)})}},mutations:{ADD_LAYERS:function(e,t){e.allLayers.length||t.map(function(t){e.allLayers.push({id:t.id,title:t.title,tags:t.tags,selected:!1})})},SELECT_LAYER:function(e,t){var r=e.allLayers.find(function(e){return e.id===t});r.selected=!0;var n={id:r.id,title:r.title,tags:r.tags,selected:!0};e.selectedLayers.push(n)},DESELECT_LAYER:function(e,t){var r=e.allLayers.find(function(e){return e.id===t});r.selected=!1;var n=e.selectedLayers.find(function(e){return e.id===t});e.selectedLayers.splice(e.selectedLayers.indexOf(n),1)}}}),D=function(e,t,r){var n=e;n.dojoRequire(["esri/core/urlUtils","esri/core/watchUtils","esri/views/MapView","esri/Map","esri/layers/VectorTileLayer","esri/layers/Layer","esri/widgets/Expand","esri/widgets/Legend","esri/widgets/LayerList","esri/widgets/Search"],function(e,r,n,a,s,i,o,c,l,u){var d=e.urlToObject(window.location.href),f=d.query.center.split(",").map(function(e){return A()(e)}),p=d.query.ids.split(","),y=d.query.zoom,m=new a({basemap:"topo-vector"}),v=new n({map:m,container:"viewDiv",zoom:y,center:f});p.forEach(function(e){i.fromPortalItem({portalItem:{id:e}}).then(function(e){m.add(e)})}),v.then(function(){var e=new c({view:v,container:document.createElement("div")}),t=new l({view:v,container:document.createElement("div")}),r=new o({view:v,content:e.domNode,expandIconClass:"esri-icon-collection",expandTooltip:"Legend"}),n=new o({view:v,content:t.domNode,expandIconClass:"esri-icon-layer-list",expandTooltip:"Layers"});v.ui.add(n,"top-right"),v.ui.add(r,"top-right")});var h=new u({view:v});v.ui.add(h,{position:"top-left",index:0}),r.whenTrue(v,"stationary",function(){var e=[v.center.longitude.toFixed(3),v.center.latitude.toFixed(3)].toString(),r=v.zoom;t.push({name:"map",query:{mapTitle:R.state.route.query.mapTitle,zoom:r,ids:p.join(","),center:e}})})})},M={data:function(){return{mapTitle:"Create Map"}},computed:Object(C["b"])({selectedLayers:"getSelectedLayers",routerQuery:"getRouterQuery"}),methods:{updateTitle:function(e){var t=e;this.$router.push({name:"map",query:{mapTitle:t,zoom:this.routerQuery.zoom,ids:this.routerQuery.ids,center:this.routerQuery.center}})}},mounted:function(){var e=this;S["isLoaded"]()?D(S,this.$router,this.routerQuery.mapTitle):S["bootstrap"](function(t){t&&console.error(t),D(S,e.$router,e.routerQuery.mapTitle)},{url:"https://js.arcgis.com/4.4/"})}},P=M,k=(r("c2e3"),Object(l["a"])(P,x,T,!1,null,"264b6058",null)),Y=k.exports;n["a"].use(f["a"]);var z=new f["a"]({routes:[{path:"/",component:j},{path:"/map",component:Y,name:"map"}],mode:"history"});r("92c6");n["a"].config.productionTip=!1,Object(a["sync"])(R,z),new n["a"]({el:"#app",router:z,store:R,template:"<App/>",components:{App:d}})},"990f":function(e,t,r){},c2e3:function(e,t,r){"use strict";var n=r("990f"),a=r.n(n);a.a},f4e5:function(e,t,r){}});
//# sourceMappingURL=app.d0ad9bf8.js.map